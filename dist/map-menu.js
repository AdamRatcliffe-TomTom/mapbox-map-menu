!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.mapmenu=t():e.mapmenu=t()}(self,(()=>(()=>{"use strict";var e={d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{LayerMenuItem:()=>a,Menu:()=>s,MenuItem:()=>r,MenuItemSeparator:()=>l,MenuSection:()=>m});class i{constructor(){if(new.target===i)throw new Error("Cannot directly instantiate MenuItemGroup");this.items=[]}renderItems(){return this.itemContainer=document.createElement("div"),this.itemContainer.className="map-menu-items",this.items.forEach((e=>{this.itemContainer.appendChild(e.render(this.map))})),this.itemContainer}addItem(e){this.items.push(e),this.map&&this.itemContainer.appendChild(e.render(this.map))}getItems(){return this.items}}const n=i,s=class extends n{constructor({title:e="",width:t=240,maxHeight:i="auto"}={}){super(),this.title=e,this.width=t,this.maxHeight=i,this.items=[]}render(){return this.element=document.createElement("div"),this.element.style.width=`${this.width}px`,this.element.style.maxHeight=`${this.maxHeight}px`,this.element.className="mapboxgl-ctrl map-menu",this.title&&this.element.appendChild(this.renderTitle()),this.element.appendChild(this.renderItems()),this.element}renderTitle(){const e=document.createElement("div");return e.textContent=this.title,e.classList.add("map-menu-title"),e}onAdd(e){return this.map=e,this.render(),this.element}onRemove(){this.element.parentNode.removeChild(this.element),this.map=void 0}getDefaultPosition(){return"top-right"}},r=class{constructor({label:e,onClick:t}={}){this.label=e,this.onClick=t}render(e){return this.map=e,this.element=document.createElement("div"),this.element.classList.add("map-menu-item"),"function"==typeof this.label?this.element.appendChild(this.label()):this.element.textContent=this.label,"function"==typeof this.onClick&&this.element.addEventListener("click",this.onClick),this.element}remove(){this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)}},l=class{render(){return this.element=document.createElement("div"),this.element.classList.add("map-menu-item-separator"),this.element}remove(){this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)}},m=class extends n{constructor({title:e=""}={}){super(),this.title=e}render(e){return this.map=e,this.element=document.createElement("div"),this.element.classList.add("map-menu-section"),this.title&&this.element.appendChild(this.renderTitle()),this.element.appendChild(this.renderItems()),this.element}renderTitle(){const e=document.createElement("div");return e.textContent=this.title,e.classList.add("map-menu-section-title"),e}remove(){this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)}},a=class extends r{constructor(e={}){super(e),this.layerId=e.layerId}render(e){if(this.map=e,this.map.getLayer(this.layerId))throw new Error(`Layer ${this.layerId} does not exist on map`);this.element=document.createElement("div"),this.element.classList.add("map-menu-item","map-menu-item-flex-layout");const t=document.createElement("div");t.textContent=this.label,this.element.appendChild(t);const i=document.createElement("input");return i.type="checkbox",i.checked=!0,i.addEventListener("click",this.handleToggle),this.element.appendChild(i),this.element}handleToggle=e=>{const{checked:t}=e.target,i=t?"visible":"none";this.setLayerVisibility(i)};setLayerVisibility(e){this.map.setLayoutProperty(this.layerId,"visibility",e)}};return t})()));